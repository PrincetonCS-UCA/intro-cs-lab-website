<!doctype html><html lang=en-us><head><meta http-equiv=x-clacks-overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://introlab.cs.princeton.edu/images/favicon.png><title>Guide and Best Practices for GDB | Intro COS Lab</title><meta name=title content="Guide and Best Practices for GDB"><meta name=description content="This page provides a refresher and best practices for GDB."><meta name=keywords content="intro-lab,gdb,"><meta property="og:title" content="Guide and Best Practices for GDB"><meta property="og:description" content="This page provides a refresher and best practices for GDB."><meta property="og:type" content="article"><meta property="og:url" content="https://introlab.cs.princeton.edu/guide-and-best-practices-for-gdb/"><meta property="og:image" content="https://introlab.cs.princeton.edu/images/share.png"><meta property="article:section" content="blog"><meta property="article:published_time" content="2023-02-01T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-01T00:00:00+00:00"><meta property="og:site_name" content="Intro COS Lab"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://introlab.cs.princeton.edu/images/share.png"><meta name=twitter:title content="Guide and Best Practices for GDB"><meta name=twitter:description content="This page provides a refresher and best practices for GDB."><meta itemprop=name content="Guide and Best Practices for GDB"><meta itemprop=description content="This page provides a refresher and best practices for GDB."><meta itemprop=datePublished content="2023-02-01T00:00:00+00:00"><meta itemprop=dateModified content="2023-02-01T00:00:00+00:00"><meta itemprop=wordCount content="554"><meta itemprop=image content="https://introlab.cs.princeton.edu/images/share.png"><meta itemprop=keywords content="intro-lab,gdb,"><meta name=referrer content="no-referrer-when-downgrade"><style>body{font-family:Verdana,sans-serif;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}pre code{color:#222;display:block;padding:20px;white-space:pre-wrap;font-size:14px}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}.helptext{color:#777;font-size:small}.errorlist{color:#eba613;font-size:small}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#777}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}.helptext{color:#aaa}}</style><style type=text/css>@import "/style.css"</style></head><body><header><a href=/ class=title><h2>Intro COS Lab</h2></a><nav><a href=/>Home</a>
<a href=/blog>Blog</a>
<span><a href=https://github.com/PrincetonCS-UCA/intro-lab-website/edit/main/content/blog/gdb-guide.md>üìù</a></span></nav></header><main><h1>Guide and Best Practices for GDB</h1><div class=last-updated-header>Last updated on
<time datetime=2023-02-01 pubdate>Feb 1, 2023</time>
by&nbsp;<ul class=author-list><li>Giao Vu Dinh</li></ul></div><content><p>Note: This is not meant to be a comprehensive tutorial on how to use gdb, but rather a refresher on what you might encounter while helping 217 students debug and common commands you might have to use.</p><h2 id=part-1-how-do-i-run-gdb>Part 1: How do I run gdb?</h2><p>Step 1: Make sure you build your program with -g.</p><p>Example: <em>$ gcc217 -g test.c definitions.c -o testprgm</em></p><p>Step 2: Run gdb within emacs.
Launch emacs: <em>$ emacs</em>
Call gdb with these keystrokes: <em>x gdb</em>
The editor should display a message like this:</p><p><em>Run gud-gdb (like this): gdb ‚Äîfullname</em> followed by the name of an executable. If the executable is not your desired program (in this case testprgm), delete it and type the name of your program. Then hit .</p><p>After these steps, emacs should display the (gdb) prompt.</p><p>Step 3: Run your program
Issue the run command: (gdb) run
If your program requires command line arguments, add them to the run declaration. gdb should run the program to completion unless there is a runtime error in the program.</p><h2 id=part-2-how-do-i-debug-with-gdb>Part 2: How do I debug with gdb?</h2><p><strong>Setting Breakpoints</strong></p><p>You can set breakpoints within the program at the beginning of functions. This causes the program to pause whenever it hits the breakpoint, and you can manually control when to move to the next breakpoint.</p><p>You can set a breakpoint using the break command:</p><p><em>(gdb) break main</em> - this sets a breakpoint at the beginning of main().</p><p>You can tell gdb to continue execution past the breakpoint using the continue command:</p><p><em>(gdb) continue</em></p><p>You can stop the execution of the program while paused at a breakpoint using kill:</p><p><em>(gdb) kill</em></p><p>You can remove a breakpoint using the clear command:</p><p><em>(gdb) clear main</em></p><p><strong>Stepping Through the Program</strong></p><p>Note: Make sure you set at least one breakpoint so the program doesn‚Äôt immediately execute everything and terminate when you run it.</p><p>You can execute the next line of your program using the next command:</p><p><em>(gdb) next</em></p><p>Note: next always stays at the same function call level. If the next line of your program calls another function, next will simply execute that line and then move to the next line in the original function.</p><p>You can execute the next line of your program, stepping into a called function, using the step command:</p><p><em>(gdb) step</em></p><p><strong>Looking at Variables</strong></p><p>Let‚Äôs say you‚Äôre looking at the function helloWorld(), which takes an integer argument a, and have set a breakpoint at the beginning of the function. You can use the print command to examine the value of the parameter passed to this call of the function:</p><p><em>(gdb) print a</em></p><p>You can also use the print function to examine the value of any variable in your current scope.</p><p>You can print the current address of a variable using the print command and &. This is particularly helpful for assignments that use pointers such as SymTable.</p><p><em>(gdb) print &i - prints address of variable i</em></p><p><strong>Looking at the Stack</strong></p><p>You can display a call stack trace using the where command. This is particularly helpful for debugging a segfault.</p><p><em>(gdb) where</em></p><p><strong>Quitting</strong></p><p>You can quit gdb using the following commands:</p><p><em>(gdb) quit</em></p><h2 id=other-resources>Other Resources</h2><p>If you would like a more detailed tutorial to reference, here is a link to the gdb tutorial provided by COS 217 (taken from Fall 22 semester): <a href=https://www.cs.princeton.edu/courses/archive/fall22/cos217/precepts/05multifilegdb/gdb.pdf>https://www.cs.princeton.edu/courses/archive/fall22/cos217/precepts/05multifilegdb/gdb.pdf</a></p></content><p><a href=https://introlab.cs.princeton.edu/blog/intro-lab/>#intro-lab</a>
<a href=https://introlab.cs.princeton.edu/blog/gdb/>#gdb</a></p></main><footer><div class=made-with>Made with
<a href=https://github.com/janraasch/hugo-bearblog/>Hugo  ï‚Ä¢·¥•‚Ä¢ î Bear</a> from
the 1-click template
<a href=https://github.com/jlumbroso/hugo-github-bearblog-template><tt>jlumbroso/hugo-github-bearblog-template</tt></a>.</div></footer></body></html>